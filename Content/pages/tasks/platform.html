<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- DO NOT EDIT: file automatically generated by ucampas. -->
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><meta content="text/css" http-equiv="Content-Style-Type" /><title>Computer Laboratory &#8211; OCaml Labs: OCaml Platform</title><link href="http://www.cl.cam.ac.uk/style/layout.css" media="all" rel="stylesheet" type="text/css" /><link href="http://www.cl.cam.ac.uk/style/print.css" media="print" rel="stylesheet" type="text/css" /><link href="http://www.cl.cam.ac.uk/style/blue.css" media="all" rel="stylesheet" type="text/css" /><!--[if IE 6]><link rel="stylesheet" href="http://www.cl.cam.ac.uk/style/ie6.css" type="text/css" media="screen" /><script type="text/javascript" src="http://www.cam.ac.uk/global/js/minmax.js"></script><![endif]--><!--[if IE 7]><link rel="stylesheet" href="http://www.cl.cam.ac.uk/style/ie7.css" type="text/css" media="screen" /><![endif]--><style>    a.icon-github {
	background: url(../github.png) no-repeat 0 0;
	padding: 0 0 2px 2em;
    }
    a.icon-cloud {
	background: url(../cloud.png) no-repeat 0 0;
        background-size: 17px;
	padding: 0 0 2px 2em;
    }
    a.icon-bullhorn {
	background: url(../bullhorn.png) no-repeat 0 0;
        background-size: 17px;
	padding: 0 0 2px 2em;
    }
    a.icon-wrench {
	background: url(../wrench.png) no-repeat 0 0;
        background-size: 17px;
	padding: 0 0 2px 2em;
    }
    </style><link href="compiler.html" rel="Next" /><link href="index.html" rel="Up" /></head>
<body class="two-col dept">
<div id="skip"> <a accesskey="2" href="#skip-content">Skip to content</a>&#160;|&#160;<a accesskey="0" href="http://www.cam.ac.uk/site/accesskeys.html">Access key help</a> </div><div id="header">  <div id="branding"><a accesskey="1" href="http://www.cam.ac.uk/"><img alt="University of Cambridge" class="ucam" src="http://www.cl.cam.ac.uk/images/identifier.gif" /></a>
  </div>

    <div id="site-search">
    <form action="http://www.google.co.uk/search" method="get">      <fieldset>      <label for="search-term">Search</label>
      <input accesskey="4" id="search-term" name="q" type="text" value="" />      <input alt="Search" id="search-button" src="http://www.cl.cam.ac.uk/images/button-search.gif" title="Search" type="image" value="Search" />
      

      <input name="domains" type="hidden" value="cam.ac.uk;www.cl.cam.ac.uk" /><input name="sitesearch" type="hidden" value="www.cl.cam.ac.uk" /></fieldset>
    </form>

  <ul><li class="last"><a href="http://www.cl.cam.ac.uk/search/">Advanced search</a></li><li><a href="http://www.cl.cam.ac.uk/az/">A&#8211;Z</a></li><li><a href="http://www.cl.cam.ac.uk/contact/">Contact us</a></li></ul>
  </div>
</div>

<div id="dept-title"><h1><a href="../index.html">Computer Laboratory</a></h1>
</div>

<div id="container"> <a id="skip-content" name="skip-content"></a>
<ul id="nav-breadcrumb"><li class="first"><a href="http://www.cam.ac.uk/">University of Cambridge</a></li><li><a href="http://www.cl.cam.ac.uk/">Computer Laboratory</a></li><li><a href="../index.html">OCaml Labs</a></li><li><a href="index.html">Projects</a></li><li><a href="platform.html">OCaml Platform</a></li></ul><ul id="nav-primary"><li><div><a href="../index.html">OCaml Labs</a></div></li><li><div><a href="../news/index.html">News</a></div></li><li><div><a href="../blogs/index.html">Blogs</a></div></li><li class="active"><div><a href="index.html">Projects</a></div></li><li><div><a href="../papers/index.html">Papers</a></div></li><li><div><a href="../people/index.html">People</a></div></li><li><div><a href="../collaboration.html">Collaboration</a></div></li><li><div><a href="../contact.html">Contact Us</a></div></li></ul><div id="content"><div id="sub-brand"><p class="section">OCaml Labs</p></div><div id="content-primary">    <div class="ucampas-toc right"><table><tbody><tr><td><p>Contents</p><ul><li><a href="#platform">OCaml Platform</a><ul><li><a href="#Team">Team</a></li><li><a href="#Tasks">Tasks</a><ul><li><a href="#Assemblage">Assemblage</a></li><li><a href="#OCaml.org governance">OCaml.org governance</a></li><li><a href="#OPAM-in-a-box">OPAM-in-a-box</a></li><li><a href="#Docker Builds">Docker Builds</a></li><li><a href="#Ctypes Stubgen">Ctypes Stubgen</a></li><li><a href="#Codoc 0.2.0">Codoc 0.2.0</a></li><li><a href="#OPAM 1.2">OPAM 1.2</a></li><li><a href="#OPAMDoc prototype">OPAMDoc prototype</a></li><li><a href="#OPAM 1.1">OPAM 1.1</a></li><li><a href="#OCamlot 0.2.0">OCamlot 0.2.0</a></li><li><a href="#Platform Preview">Platform Preview</a></li><li><a href="#Ctypes 0.1">Ctypes 0.1</a></li><li><a href="#Non-x86 Machines">Non-x86 Machines</a></li><li><a href="#OPAM 1.0">OPAM 1.0</a></li></ul></li></ul></li></ul></td></tr></tbody></table></div>
    
    
            <style type="text/css">            table { 
            table-layout: fixed;
            border-spacing: 0px 2px;
            }
            .blank { background-color: #fefefe; }
            .planning { font-size: 80%; background-color: #bbccee; }
            .doing { font-size: 80%; background-color: #eeeebb; }
            .complete { font-size: 80%; background-color: #bbddbb; }
            img.mugshot { float:left; padding-right: 5px; }
            tr.dates {
            font-size: 0.75em;
            background-color: #dfdfdf;
            color: #111111;
            }
            </style>
          
    <h1 id="platform">OCaml Platform</h1>
    <div class="width:75%"><p><a href="http://ocaml.org"><img class="left" src="../images/ocaml-colour.png" width="70px" /></a>The OCaml Platform combines the core OCaml compiler with a coherent set of
libraries, tools and documentation.  The requirements and direction of the
Platform are initially being guided by large users of OCaml such as <a href="http://ocaml.janestreet.com">Jane
Street</a>,
<a href="http://www.xen.org/files/XenCloud/ocamldoc/">Citrix</a> and
<a href="http://www.lexifi.com/product/technology/ocaml">Lexifi</a>.</p>
<p>The reason for initially taking direction from industrial users is because
these companies have a great deal of experience of using the language at scale
(e.g millions of lines of code, thousands of modules and complicated testing
requirements). We take a pragmatic view that examining and solving the problems
such users have will ultimately result in a large and positive impact on the
wider community, through significantly improved tooling, libraries and
documentation.</p>
<p>The current thrust of work is to improve the tooling around packaging, build
and test infrastructure.  Once complete, this will enable us to effectively
run over hundreds of community packages and determine selection criteria
for the Platform.  A key aspect of this selection will be which libraries
are already popular and in use, and also how actively maintained and portable
they are across different operating systems.</p>
<p>The tasks below reflect this by:</p>
<ul><li>The OPAM package manager acts as the package management front end.</li><li>The OPAM Doc tool replaces the venerable <code>ocamldoc</code> tool with modern, cross-referenced HTML output across several libraries.</li><li>The OCamlot testing infrastructure runs continuous integration of OPAM stable and candidate packages across a variety of operating systems and CPU architectures.</li></ul>

<p>The mailing list for discussion about this is <a href="http://lists.ocaml.org/listinfo/platform">platform@lists.ocaml.org</a> (<a href="http://lists.ocaml.org/pipermail/platform/">archive</a>).</p>
</div>
    <h2 id="Team">Team</h2>
    <p><a href="http://amirchaudhry.com"><img class="inline" height="50px" src="../mugshots/amir.jpg" style="" /></a><a href="http://anil.recoil.org"><img class="inline" height="50px" src="../mugshots/avsm.jpg" style="" /></a><a href="http://lpw25.net"><img class="inline" height="50px" src="../mugshots/lpw25.jpg" style="" /></a><a href="http://philippewang.info/CL/"><img class="inline" height="50px" src="../mugshots/pwang.jpg" style="" /></a><a href="https://github.com/dsheets"><img class="inline" height="50px" src="../mugshots/sheets.png" style="" /></a><a href="http://thomas.gazagnaire.org"><img class="inline" height="50px" src="../mugshots/tg.png" style="" /></a><a href="https://github.com/vincent-botbol"><img class="inline" height="50px" src="../mugshots/botbol.png" style="" /></a><img class="inline" height="50px" src="../mugshots/yallop.jpeg" style="" /></p>
    <h2 id="Tasks">Tasks</h2>
    <table class="projects" width="95%">    <tbody><tr class="dates"><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>2013</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>2014</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>2015</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#8734;</td></tr>
     <tr> <td class="blank" colspan="22"></td> <td class="doing" colspan="12">               <a href="http://thomas.gazagnaire.org"><img alt="Thomas Gazagnaire" class="mugshot" height="30px" src="../mugshots/tg.png" /></a>
               <a href="#Assemblage">Assemblage</a><br />             </td> <td class="blank" colspan="5"></td> <td></td> </tr>  <tr> <td class="blank" colspan="23"></td> <td class="doing" colspan="11">               <a href="http://amirchaudhry.com"><img alt="Amir Chaudhry" class="mugshot" height="30px" src="../mugshots/amir.jpg" /></a>
               <a href="#OCaml.org governance">OCaml.org governance</a><br />             </td> <td class="blank" colspan="5"></td> <td></td> </tr>  <tr> <td class="blank" colspan="16"></td> <td class="doing" colspan="17">               <a href="http://thomas.gazagnaire.org"><img alt="Thomas Gazagnaire" class="mugshot" height="30px" src="../mugshots/tg.png" /></a>
               <a href="#OPAM-in-a-box">OPAM-in-a-box</a><br />             </td> <td class="blank" colspan="6"></td> <td></td> </tr>  <tr> <td class="blank" colspan="22"></td> <td class="doing" colspan="10">               <a href="http://anil.recoil.org"><img alt="Anil Madhavapeddy" class="mugshot" height="30px" src="../mugshots/avsm.jpg" /></a>
               <a href="#Docker Builds">Docker Builds</a><br />             </td> <td class="blank" colspan="7"></td> <td></td> </tr>  <tr> <td class="blank" colspan="13"></td> <td class="complete" colspan="18">               <img alt="Jeremy Yallop" class="mugshot" height="30px" src="../mugshots/yallop.jpeg" />               <a href="#Ctypes Stubgen">Ctypes Stubgen</a><br />             </td> <td class="blank" colspan="8"></td> <td></td> </tr>  <tr> <td class="blank" colspan="20"></td> <td class="complete" colspan="10">               <a href="https://github.com/dsheets"><img alt="David Sheets" class="mugshot" height="30px" src="../mugshots/sheets.png" /></a>
               <a href="#Codoc 0.2.0">Codoc 0.2.0</a><br />             </td> <td class="blank" colspan="9"></td> <td></td> </tr>  <tr> <td class="blank" colspan="15"></td> <td class="complete" colspan="11">               <a href="http://thomas.gazagnaire.org"><img alt="Thomas Gazagnaire" class="mugshot" height="30px" src="../mugshots/tg.png" /></a>
               <a href="#OPAM 1.2">OPAM 1.2</a><br />             </td> <td class="blank" colspan="13"></td> <td></td> </tr>  <tr> <td class="blank" colspan="5"></td> <td class="complete" colspan="10">               <a href="https://github.com/vincent-botbol"><img alt="Vincent Botbol" class="mugshot" height="30px" src="../mugshots/botbol.png" /></a>
               <a href="#OPAMDoc prototype">OPAMDoc prototype</a><br />             </td> <td class="blank" colspan="24"></td> <td></td> </tr>  <tr> <td class="blank" colspan="6"></td> <td class="complete" colspan="8">               <a href="http://thomas.gazagnaire.org"><img alt="Thomas Gazagnaire" class="mugshot" height="30px" src="../mugshots/tg.png" /></a>
               <a href="#OPAM 1.1">OPAM 1.1</a><br />             </td> <td class="blank" colspan="25"></td> <td></td> </tr>  <tr> <td class="blank" colspan="7"></td> <td class="complete" colspan="6">               <a href="https://github.com/dsheets"><img alt="David Sheets" class="mugshot" height="30px" src="../mugshots/sheets.png" /></a>
               <a href="#OCamlot 0.2.0">OCamlot 0.2.0</a><br />             </td> <td class="blank" colspan="26"></td> <td></td> </tr>  <tr> <td class="blank" colspan="5"></td> <td class="complete" colspan="6">               <a href="http://amirchaudhry.com"><img alt="Amir Chaudhry" class="mugshot" height="30px" src="../mugshots/amir.jpg" /></a>
               <a href="#Platform Preview">Platform Preview</a><br />             </td> <td class="blank" colspan="28"></td> <td></td> </tr>  <tr> <td class="blank" colspan="7"></td> <td class="complete" colspan="4">               <img alt="Jeremy Yallop" class="mugshot" height="30px" src="../mugshots/yallop.jpeg" />               <a href="#Ctypes 0.1">Ctypes 0.1</a><br />             </td> <td class="blank" colspan="28"></td> <td></td> </tr>  <tr> <td class="blank" colspan="3"></td> <td class="complete" colspan="7">               <a href="http://anil.recoil.org"><img alt="Anil Madhavapeddy" class="mugshot" height="30px" src="../mugshots/avsm.jpg" /></a>
               <a href="#Non-x86 Machines">Non-x86 Machines</a><br />             </td> <td class="blank" colspan="29"></td> <td></td> </tr>  <tr>  <td class="complete" colspan="7">               <a href="http://thomas.gazagnaire.org"><img alt="Thomas Gazagnaire" class="mugshot" height="30px" src="../mugshots/tg.png" /></a>
               <a href="#OPAM 1.0">OPAM 1.0</a><br />             </td> <td class="blank" colspan="32"></td> <td></td> </tr> 
    <tr><td colspan="40">&#160;</td></tr>
    </tbody></table>
  
    
         <div style="width:75%">         <h3 id="Assemblage" style="border-bottom: thin solid #999999;">Assemblage</h3>
         <p><a href="http://thomas.gazagnaire.org"><img class="inline" height="40px" src="../mugshots/tg.png" style="float:left; padding-right: 30px" /></a>  <span class="doing">In Progress</span> by <a href="../people/tg.html">Thomas Gazagnaire</a> (Jun 2014 - Jun 2015) <br /><a class="icon-github" href="https://github.com/samoht/assemblage">Github</a> &#160; <a class="icon-wrench" href="https://github.com/samoht/assemblage/issues">Issues</a> &#160; <a class="icon-pdf" href="../papers/index.html#ocl-platform-2014">Paper</a> &#160; <a class="icon-pdf" href="http://ocaml.org/meetings/ocaml/2014/ocl-platform-2014-slides.pdf">Slides</a> &#160; </p>
         <p>The Assemblage toolbox provides an API and a set of binaries to setup, manage,
and use OCaml projects.  The library can be used to describe OCaml projects
with static dependencies.  A project description consists of a list of
libraries, binaries and/or toplevels, each containing a list of compilation
units with precise (and static) dependency relationships.</p>
<p>Using a project description, the tools can generate:</p>
<ul><li>a <code>.merlin</code> to help edit the project;</li><li>a <code>Makefile</code> to build the project;</li><li>a <code>.install</code> to install the project; and</li><li>a <code>META</code> file to use the project</li></ul>

<p>Assemblage is still a work-in-progress and has not had a public release.</p>

         <br /></div>
      
         <div style="width:75%">         <h3 id="OCaml.org governance" style="border-bottom: thin solid #999999;">OCaml.org governance</h3>
         <p><a href="http://amirchaudhry.com"><img class="inline" height="40px" src="../mugshots/amir.jpg" style="float:left; padding-right: 30px" /></a>  <span class="doing">In Progress</span> by <a href="../people/amirmc.html">Amir Chaudhry</a> (Jul 2014 - Jun 2015) <br /><a class="icon-cloud" href="http://amirchaudhry.com/towards-governance-framework-for-ocamlorg/">Blog Post</a> &#160; </p>
         <p>As the projects around the OCaml.org domain name are becoming more
established, it is important to document how the domain-name itself is being
governed.  Therefore we have begun to put together a governance framework that
clarifies the current stakeholders and documents how the domain is currently
managed.</p>
<p>The intent is to provide clarity around how things operate in reality, rather
than being aspirational.  As such we hope it can be adopted without
introducing burdensome processes, while ensuring that it grow and
develop as the community does.</p>
<p>A brief summary of the growth of the projects and the factors that are part of
the governance document can be found online at: 
<a href="http://amirchaudhry.com/towards-governance-framework-for-ocamlorg/">http://amirchaudhry.com/towards-governance-framework-for-ocamlorg/</a></p>

         <br /></div>
      
         <div style="width:75%">         <h3 id="OPAM-in-a-box" style="border-bottom: thin solid #999999;">OPAM-in-a-box</h3>
         <p><a href="http://thomas.gazagnaire.org"><img class="inline" height="40px" src="../mugshots/tg.png" style="float:left; padding-right: 30px" /></a>  <span class="doing">In Progress</span> by <a href="../people/tg.html">Thomas Gazagnaire</a> (Dec 2013 - May 2015) <br /><a class="icon-wrench" href="https://github.com/ocaml/opam/issues/1035">Task ticket</a> &#160; </p>
         <p>As OPAM gets more widely used for teaching, it's important to make it easy to
distribute and install on a variety of operating systems.  We are firstly
generating binary packages for several Linux distributions (via the OpenSUSE
Build Service and Ubuntu PPAs).  There is also an ongoing effort to package up
an OPAM environment using virtualisation tools such as Vagrant and Docker.
See the task ticket for ongoing progress.</p>

         <h4><em>Related work</em></h4>
          <ul><li><a href="platform.html#OPAM 1.2 (the Platform release)">OPAM 1.2</a></li></ul><br /></div>
      
         <div style="width:75%">         <h3 id="Docker Builds" style="border-bottom: thin solid #999999;">Docker Builds</h3>
         <p><a href="http://anil.recoil.org"><img class="inline" height="40px" src="../mugshots/avsm.jpg" style="float:left; padding-right: 30px" /></a>  <span class="doing">In Progress</span> by <a href="../people/avsm.html">Anil Madhavapeddy</a> (Jun 2014 - Apr 2015) <br /><a class="icon-github" href="https://github.com/avsm/ocaml-dockerfile">Github</a> &#160; <a class="icon-cloud" href="http://www.recoil.org/~avsm/opam-bulk">Output</a> &#160; </p>
         <p>As the OPAM package database grows beyond 3000 packages, we need automated ways
of building each package.  This requires not only an OCaml and OPAM
installation, but also some sandboxing techniques to install external
dependencies.  For Linux, we are using the <a href="http://docker.com">Docker</a>
container manager to perform these builds.  The logs from bulk builds are then
collected via the <a href="http://irmin.io">Irmin</a> database in order to be classified
and rendered to a webpage.</p>
<p>Note that this is a purely Linux-only solution.  While it lets us test various
distributions such as CentOS, Debian, Ubuntu and RHEL, we still need other
solutions for MacOS X, Free/Net/OpenBSD and Windows.  That will hopefully get
easier as the upstream Docker support for non-Linux platforms matures.</p>

         <h4><em>Related work</em></h4>
          <ul><li><a href="platform.html#OPAM 1.2">OPAM 1.2</a></li></ul><br /></div>
      
         <div style="width:75%">         <h3 id="Ctypes Stubgen" style="border-bottom: thin solid #999999;">Ctypes Stubgen</h3>
         <p><img class="inline" height="40px" src="../mugshots/yallop.jpeg" style="float:left; padding-right: 30px" />  <span class="complete">Complete</span> by <a href="../people/yallop.html">Jeremy Yallop</a> (Sep 2013 - Mar 2015) <br /><a class="icon-github" href="https://github.com/ocamllabs/ctypes">Github</a> &#160; <a class="icon-cloud" href="https://github.com/ocamllabs/ocaml-ctypes/wiki">Documentation</a> &#160; <a class="icon-pdf" href="http://ocaml.org/meetings/ocaml/2013/proposals/ctypes.pdf">OCaml 2013 demo</a> &#160; </p>
         <p>The first Ctypes release used <code>dlopen</code> to dynamically access C libraries, but this
approach has <a href="https://github.com/realworldocaml/book/issues/1701">some limitations</a>
that will be addressed by also generating C stub files that can be compiled
using the system C compiler.</p>
<p>From the <a href="https://github.com/ocamllabs/ocaml-ctypes/releases/tag/0.4.0">Ctypes 0.4</a>
release onwards, there is comprehensive support for C stub generation that is 
completely independent of the dynamic <code>libffi</code>-based mode (one mode can be used
without the other).</p>
<p>As of early 2015, there are a growing set of OCaml C bindings that use
Ctypes as their <a href="https://github.com/search?utf8=%E2%9C%93&amp;q=ocaml+ctypes&amp;type=Repositories&amp;ref=searchresults">binding generator</a>
of choice.  These include uses from industrial users such as Citrix, Jane Street and Cryptosense.</p>

         <h4><em>Related work</em></h4>
          <ul><li><a href="platform.html#Ctypes">Ctypes</a></li></ul><br /></div>
      
         <div style="width:75%">         <h3 id="Codoc 0.2.0" style="border-bottom: thin solid #999999;">Codoc 0.2.0</h3>
         <p><a href="https://github.com/dsheets"><img class="inline" height="40px" src="../mugshots/sheets.png" style="float:left; padding-right: 30px" /></a>  <span class="complete">Complete</span> by <a href="../people/sheets.html">David Sheets</a> (Apr 2014 - Feb 2015) <br /><a class="icon-cloud" href="http://opam.ocaml.org/blog/codoc-0-2-0-released/">Blog post</a> &#160; <a class="icon-wrench" href="https://github.com/dsheets/codoc/issues">Issues</a> &#160; <a class="icon-github" href="https://github.com/dsheets/codoc">Codoc</a> &#160; <a class="icon-github" href="https://github.com/lpw25/doc-ock-lib">Doc-Ock-Lib</a> &#160; <a class="icon-github" href="https://github.com/dsheets/doc-ock-xml">Doc-Ock-XML</a> &#160; <a class="icon-pdf" href="../papers/index.html#ocl-platform-2014">Paper</a> &#160; <a class="icon-pdf" href="http://ocaml.org/meetings/ocaml/2014/ocl-platform-2014-slides.pdf">Slides</a> &#160; </p>
         <p>Codoc aims to provide a widely useful set of tools for generating OCaml
documentation. In particular, we are striving to:</p>
<ul><li>Cover all of OCaml's language features</li><li>Provide accurate name resolution and linking</li><li>Support cross-linking between different packages</li><li>Expose interfaces to the components we've used to build codoc</li><li>Provide a magic-free command-line interface to the tool itself</li><li>Reduce external dependencies and default integration with other tools</li></ul>

<p>We haven't yet achieved all of these at all levels of our tool stack but are getting close. codoc 0.2.0 is usable today (if a little rough in some areas like default CSS).  Please see the <a href="http://opam.ocaml.org/blog/codoc-0-2-0-released/">blog post</a> for more details about its current status.</p>

         <br /></div>
      
         <div style="width:75%">         <h3 id="OPAM 1.2" style="border-bottom: thin solid #999999;">OPAM 1.2</h3>
         <p><a href="http://thomas.gazagnaire.org"><img class="inline" height="40px" src="../mugshots/tg.png" style="float:left; padding-right: 30px" /></a>  <span class="complete">Complete</span> by <a href="../people/tg.html">Thomas Gazagnaire</a> (Nov 2013 - Oct 2014) <br /><a class="icon-github" href="https://github.com/ocaml/opam">Github</a> &#160; <a class="icon-cloud" href="https://opam.ocaml.org">Homepage</a> &#160; <a class="icon-pdf" href="https://github.com/ocaml/opam/blob/master/doc/dev-manual/dev-manual.pdf?raw=true">Developer Manual</a> &#160; <a class="icon-wrench" href="https://github.com/ocaml/opam/issues">Issues</a> &#160; <a class="icon-cloud" href="https://raw.githubusercontent.com/ocaml/opam/1.2.0/CHANGES">ChangeLog</a> &#160; <a class="icon-cloud" href="https://opam.ocaml.org/blog/opam-1-2-0-release/">Release Post</a> &#160; </p>
         <p>OPAM 1.2 features a streamlined workflow to improve the day-to-day development
experience, as well as numerous performance and reliability improvements.</p>
<ul><li>A extended and versatile <code>opam pin</code> command, described <a href="https://opam.ocaml.org/blog/opam-1-2-pin/">here</a>.</li><li>More expressive queries over the package database, and <code>opam source</code> to quickly clone packages.</li><li>New metadata fields for describing source repositories, bug-trackers, and finer control of package behaviour.</li><li>An <code>opam lint</code> command to check the quality of packages.</li></ul>

         <h4><em>Related work</em></h4>
          <ul><li><a href="platform.html#Platform Preview">Platform Preview</a></li></ul><br /></div>
      
         <div style="width:75%">         <h3 id="OPAMDoc prototype" style="border-bottom: thin solid #999999;">OPAMDoc prototype</h3>
         <p><a href="https://github.com/vincent-botbol"><img class="inline" height="40px" src="../mugshots/botbol.png" style="float:left; padding-right: 30px" /></a>  <span class="complete">Complete</span> by <a href="../people/vbotbol.html">Vincent Botbol</a> (Jan 2013 - Nov 2013) <br /><a class="icon-github" href="https://github.com/ocamllabs/opam-doc">opam-doc</a> &#160; <a class="icon-cloud" href="http://mirage.github.io">Snapshot Docs</a> &#160; </p>
         <p>The OCaml toolchain has shipped with the <code>ocamldoc</code> tool for a long time.
<code>ocamldoc</code> runs over a single OCaml library and generates cross-referenced
documentation.  It also supports a variety of outputs, such as Latex, HTML, PDF
and even manpages.  However, it is starting to show its age for large, complex
codebases such as <a href="http://github.com/janestreet/core">Core</a>, and so we are
developing a more scalable alternative for the Platform effort.</p>
<p>OPAM-doc consists of two separate commands:</p>
<ul><li><p><a href="http://github.com/ocamllabs/bin-doc">bin-doc</a> is a replacement for the OCamldoc lexer (which extracts documentation from <a href="http://caml.inria.fr/pub/docs/manual-ocaml-4.00/manual029.html">source code comments</a>. It uses the OCaml-4.00+ facility for generating <code>.cmt</code> files that contain the typed AST, and generates <code>.cmd</code> files which contain the documentation information.  By using a separate file from the AST, we leave open the possibility of having multiple language translations in the future.  These <code>.cmd</code> and <code>.cmdi</code> files can be combined with the <code>.cmt</code> files to generate complete documentation directly from the output of the compiler.  This command is intended to be temporary, and can be integrated into the upstream in the future.</p>
</li><li><p><a href="http://github.com/ocamllabs/opam-doc">opam-doc</a> takes a set of <code>cmt</code> and <code>cmd</code> files and outputs a single JSON representation of all the files.  This JSON can then be post-processed (or directly rendered in Javascript) to create a single documentation repository that reliably renders cross-references across entire libraries.  Thus, the entire Platform can have one documentation source rather than having to search across packages.</p>
</li></ul>

<p>The ultimate aim is to support the OCaml platform with interactive tutorials using the
<a href="http://ocsigen.org/js_of_ocaml">js_of_ocaml</a> compiler.  You can try out the prototype
of this in OPAM via <code>opam install opam-doc &amp;&amp; opam doc core async</code>.  It will start a
local webserver on which you can browse the traffic.  There is also a snapshot available
on <a href="http://mirage.github.io">the Mirage documentation</a> site.</p>
<p>This work is continued in a form intended for upstream inclusion in the compiler
via the Codoc task.</p>

         <h4><em>Related work</em></h4>
          <ul><li><a href="platform.html#Codoc">Codoc</a></li></ul><br /></div>
      
         <div style="width:75%">         <h3 id="OPAM 1.1" style="border-bottom: thin solid #999999;">OPAM 1.1</h3>
         <p><a href="http://thomas.gazagnaire.org"><img class="inline" height="40px" src="../mugshots/tg.png" style="float:left; padding-right: 30px" /></a>  <span class="complete">Complete</span> by <a href="../people/tg.html">Thomas Gazagnaire</a> (Feb 2013 - Oct 2013) <br /><a class="icon-github" href="https://github.com/ocaml/opam">Github</a> &#160; <a class="icon-cloud" href="https://opam.ocaml.org">Homepage</a> &#160; <a class="icon-pdf" href="https://github.com/ocaml/opam/blob/master/doc/dev-manual/dev-manual.pdf?raw=true">Developer Manual</a> &#160; <a class="icon-wrench" href="https://github.com/ocaml/opam/issues">Issues</a> &#160; </p>
         <p>Since the release of OPAM 1.0, we've steadily been fixing bugs that have been
reported from the wider userbase.  The release has actually been remarkably
stable, and most of the issues are around the constraint solver (which tackles
an NP-complete problem with cunning heuristics).  There's also been quite a bit
of work on improving portability and integration with the operating system via
more interactive initialisation.</p>
<p>The big purpose behind the next release, though, is to improve support for
large-scale continuous integration and testing of the packages contained within
the repository.  <a href="http://ocaml.janestreet.com">Jane Street</a>, for example, is
now issuing <a href="https://github.com/OCamlPro/opam-repository/pull/506">weekly releases</a> of their Core
standard library suite.  Testing these manually across Linux, FreeBSD, MacOS X
and several CPU architectures (x86, x86_64, ARM, Macppc) is both tedious and
error-prone, and so we'd like to automate the process.</p>
<p>OPAM doesn't need many changes to support this testing, but there is more
package metadata being added to facilitate the process, and tools such as
<a href="http://opam.ocamlpro.com/pkg/oasis2opam.0.2.4.html">oasis2opam</a> help automate
this by looking inside the packages themselves.  The whole of OPAM is exported
as a <a href="http://opam.ocamlpro.com/pkg/opam-lib.1.0.0.html">library</a> so that third-party
packages can interface with the OPAM repository without changing OPAM itself.
This is exactly what the <a href="#OCamlot 0.2.0">OCamlot</a> project does.</p>

         <h4><em>Related work</em></h4>
          <ul><li><a href="platform.html#OPAM 1.2 (the Platform release)">OPAM 1.2</a></li><li><a href="platform.html#OCamlot">OCamlot</a></li></ul><br /></div>
      
         <div style="width:75%">         <h3 id="OCamlot 0.2.0" style="border-bottom: thin solid #999999;">OCamlot 0.2.0</h3>
         <p><a href="https://github.com/dsheets"><img class="inline" height="40px" src="../mugshots/sheets.png" style="float:left; padding-right: 30px" /></a>  <span class="complete">Complete</span> by <a href="../people/sheets.html">David Sheets</a> (Mar 2013 - Sep 2013) <br /><a class="icon-github" href="https://github.com/ocamlot/ocamlot-state">ocamlot-state</a> &#160; <a class="icon-github" href="https://github.com/ocamllabs/ocamlot">ocamlot</a> &#160; <a class="icon-wrench" href="https://github.com/ocamllabs/ocamlot/issues">Issues</a> &#160; <a class="icon-cloud" href="http://anil.recoil.org/2013/09/30/travis-and-ocaml.html">Travis and OPAM</a> &#160; </p>
         <p>OCamlot (OCaml Online Testing), is a Continuous Integration and Testing
system for packages provided via <a href="http://opam.ocamlpro.com">OPAM</a>.  It comprises all the
appropriate tools and libraries to enable management and development of
the machine infrastructure, for example an OCaml library to <a href="https://github.com/avsm/ocaml-github">interface
with Github</a> (<a href="http://opam.ocamlpro.com/pkg/github.0.6.1.html">available through
OPAM</a>).  If you submit a
package via OPAM, you will be rewarded with regular regression tests
across many diverse operating systems and build tool
environments. Ultimately, we would also like to integrate benchmarking,
constraint exploration, experimental design, complete isolation, and
domain testing into this system.</p>
<p>The resourcing and commissioning of the Machine Pool itself is dealt
with <a href="#Machine Pool">separately</a> from this software which utilises it.</p>
<p>Current status: Minimal <a href="">version 0.2.0 released</a></p>

         <h4><em>Related work</em></h4>
          <ul><li><a href="platform.html#OPAM 1.0">OPAM 1.0</a></li><li><a href="platform.html#Machine Pool">Machine Pool</a></li></ul><br /></div>
      
         <div style="width:75%">         <h3 id="Platform Preview" style="border-bottom: thin solid #999999;">Platform Preview</h3>
         <p><a href="http://amirchaudhry.com"><img class="inline" height="40px" src="../mugshots/amir.jpg" style="float:left; padding-right: 30px" /></a>  <span class="complete">Complete</span> by <a href="../people/amirmc.html">Amir Chaudhry</a> (Jan 2013 - Jul 2013) <br /><a class="icon-pdf" href="http://ocaml.org/meetings/ocaml/2013/slides/madhavapeddy.pdf">OCaml 2013 status</a> &#160; <a class="icon-cloud" href="http://lists.ocaml.org/listinfo/platform">Platform mailing list</a> &#160; </p>
         <p>The OCaml Platform is intended to combine the core OCaml compiler with a
coherent set of libraries, tools, docs and other resources.  The direction of
the Platform will be guided by the major users of OCaml (including consortium
members).</p>
<p>The first stage of creating the platform is to begin building OCamlot.  This
process will help us identify and and refine the initial libraries and tools
that should form part of v0.1 of the platform proper.  When OCamlot is
complete, we'll be in a much better position to discuss what components should
form v0.2 of the Platform.</p>
<p>The current state of the Platform components was also presented at
<a href="http://ocaml.org/meetings/ocaml/2013/slides/madhavapeddy.pdf">OCaml 2013</a>.</p>

         <h4><em>Related work</em></h4>
          <ul><li><a href="platform.html#OPAM 1.2 (the Platform release)">OPAM 1.2</a></li><li><a href="platform.html#OCamlot">OCamlot</a></li></ul><br /></div>
      
         <div style="width:75%">         <h3 id="Ctypes 0.1" style="border-bottom: thin solid #999999;">Ctypes 0.1</h3>
         <p><img class="inline" height="40px" src="../mugshots/yallop.jpeg" style="float:left; padding-right: 30px" />  <span class="complete">Complete</span> by <a href="../people/yallop.html">Jeremy Yallop</a> (Mar 2013 - Jul 2013) <br /><a class="icon-github" href="https://github.com/ocamllabs/ctypes">Github</a> &#160; <a class="icon-cloud" href="https://github.com/ocamllabs/ocaml-ctypes/wiki">Documentation</a> &#160; </p>
         <p>ctypes is a library for binding to C libraries using pure OCaml. The primary
aim is to make writing C extensions as straightforward as possible.  The current
FFI in OCaml is low-level and difficult to use correctly, so we're keen to improve the
ease-of-interoperability in the first Platform release.</p>
<p>The core of ctypes is a set of combinators for describing the structure of C
types -- numeric types, arrays, pointers, structs, unions and functions. You
can use these combinators to describe the types of the functions that you want
to call, then bind directly to those functions -- all without writing or
generating any C!</p>

         <br /></div>
      
         <div style="width:75%">         <h3 id="Non-x86 Machines" style="border-bottom: thin solid #999999;">Non-x86 Machines</h3>
         <p><a href="http://anil.recoil.org"><img class="inline" height="40px" src="../mugshots/avsm.jpg" style="float:left; padding-right: 30px" /></a>  <span class="complete">Complete</span> by <a href="../people/avsm.html">Anil Madhavapeddy</a> (Nov 2012 - Jun 2013) <br /></p>
         <p>In order to create a robust and stable Continuous Integration system, we
need a pool of machines that reflect the diverse environments where
OCaml code is deployed.</p>
<p>To this end, we've been assembling a small collection of conventional
high-powered machines that can build the whole OPAM package set quite
quickly, and also more unusual CPU architectures and operating systems
that will help developers that don't have access to them. So far we
have:</p>
<ul><li>12-core AMD64/Linux Debian 64-bit</li><li>12-core AMD64/Linux Debian 32-bit</li><li>ARMv6l/Raspbian Linux 32-bit (Raspberry Pi 512MB)</li><li>ARMv5tel/Debian Linux 32-bit (Dreamplug)</li><li>sparc64/FreeBSD (thanks to Jasper Wallace for the donation)</li><li>macppc/OpenBSD (G4 Powerbook) (thanks to Dave Scott for the donation)</li><li>AMD64/MacOS X 10.8</li><li>iMac G5/Debian Linux 64-bit</li></ul>

         <h4><em>Related work</em></h4>
          <ul><li><a href="platform.html#OCamlot">OCamlot</a></li></ul><br /></div>
      
         <div style="width:75%">         <h3 id="OPAM 1.0" style="border-bottom: thin solid #999999;">OPAM 1.0</h3>
         <p><a href="http://thomas.gazagnaire.org"><img class="inline" height="40px" src="../mugshots/tg.png" style="float:left; padding-right: 30px" /></a>  <span class="complete">Complete</span> by <a href="../people/tg.html">Thomas Gazagnaire</a> (Mar 2012 - Mar 2013) <br /><a class="icon-github" href="https://github.com/ocaml/opam">Github</a> &#160; <a class="icon-cloud" href="https://opam.ocaml.org">Homepage</a> &#160; <a class="icon-pdf" href="https://github.com/ocaml/opam/blob/master/doc/dev-manual/dev-manual.pdf?raw=true">Developer Manual</a> &#160; <a class="icon-wrench" href="https://github.com/ocaml/opam/issues">Issues</a> &#160; </p>
         <p>OPAM 1.0 is a source-based package manager for OCaml. It supports multiple
simultaneous compiler installations, flexible package constraints, and a
Git-friendly development workflow.</p>
<p>The goal of the first version of OPAM was to get something released that would
provide basic package management facilities to the community, but also be
designed with distributed open-source design in mind.  To that end, OPAM 1.0
supports a
<a href="http://opam.ocamlpro.com/doc/Advanced_Usage.html#h2-Handlingofrepositories">remotes</a>
mechanism which lets you combine local development trees with other people's
remote Git or Darcs repositories.  Whenever <code>opam update</code> is run, all the
remotes are refreshed and merged, letting you subscribe to other people's
compilers and package trees.</p>
<p>This first version is build-system agnostic in the interests of compatibility
with the large existing body of third party external source code, and so can't
do much in the way of advanced manipulation of the packages.</p>
<p>OPAM 1.0 has been a great success.  Since its release, there have been hundreds
of external contributions from the community, and over 500 packages are now
contained within the <a href="http://github.com/OCamlPro/opam-repository">main package repository</a>!</p>

         <h4><em>Related work</em></h4>
          <ul><li><a href="platform.html#OPAM 1.1 (the CI and Test release)">OPAM 1.1</a></li></ul><br /></div>
      
  </div></div>

<ul id="site-info"><li class="copy">&#169; 2012-2013 Anil Madhavapeddy<br />Information provided by <a href="mailto:avsm2@cl.cam.ac.uk">Anil Madhavapeddy</a></li></ul>
</div>
</body></html>
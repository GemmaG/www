<?xml version="1.0" encoding="UTF-8"?>


      <title>Mirage</title>
      
  <style>
  blockquote {
    margin-left: 10px;
    padding-left: 20px;
    width: 80%;
    color: #330000;
  } 
  div.changelog { width:80%; font-size:90%; }
  blockquote p { margin-left: 0;  }
  div.ocl p { width: 75%; min-width: 400px; }
  div.ocl a { color: #330099; } 
  .ocl-output {
   width: 75%;
   padding:.4em 0;
   margin:0 0 1em 0;
   border-bottom: 1px solid #cccccc;
  }
  .ocl-cogs span { padding-right:30px; background-size:20px; background: url(../cogs.png) no-repeat right center; }
  .ocl-print span { padding-right:30px; background-size:20px; background: url(../print.png) no-repeat right center; }
  .ocl-cloud span { padding-right:30px; background-size:20px; background: url(../cloud.png) no-repeat right center; }
  .ocl-group span { padding-right:30px; background-size:20px; background: url(../group.png) no-repeat right center; }
  .ocl-bullhorn span { padding-right:30px; background-size:20px; background: url(../bullhorn.png) no-repeat right center; }
  .ocl-asset span { padding-right:30px; background-size:20px; background: url(../wrench.png) no-repeat right center; }
  </style>

      <body>
      <div class="ucampas-toc right"/>
      <div class="ocl">
        <h1 id="Mirage">Mirage</h1>
        <p>The cloud has so far mostly been used to consolidate existing operating systems and manage them more conveniently. The interface between guest kernels, applications and VMs are all managed very differently, leading to serious inefficiencies, unreliability and insecurity.</p>
<p>Our <a href="http://www.openmirage.org">Mirage OS</a> revisits the library OS concept (built as Nemesis in the Lab in the late '90s), and finds it a practical approach to improve this situation. Mirage is an experimental library operating system designed to narrow the gap between safe, high-level programming, and low-level systems construction.</p>
<p>Applications are written in a high-level functional programming language (OCaml) and compiled directly into microkernels that run on the Xen hypervisor. By treating the hypervisor as a stable hardware platform, we can focus on high-performance protocol implementations without worrying about having to support the thousands of device drivers found in a traditional OS. Although Mirage initially targets the Xen hypervisor, other backends, such as a FreeBSD kernel module and Javascript, also exist</p>
<p>Mirage includes clean-slate functional implementations of protocols ranging from TCP/IP, DNS, SSH, Openflow (switch/controller), HTTP, XMPP and Xen inter-VM transports. Some of the new applications we're building using Mirage include the next-generation <a href="http://www.xen.org/products/cloudxen.html">Xen Cloud Platform</a> (a widely deployed open-source Xen distribution), dubbed <a href="http://xen.org/xensummit/xs12na_talks/T2.html">Project Windsor</a>.</p>
<p>The self-hosted Mirage website can be found at <a href="http://www.openmirage.org">openmirage.org</a>.</p>

        <h4 id="Team">Team</h4>
        <ul class="compact">  
        <li><a href="../people/avsm.html">Anil Madhavapeddy</a>, project owner (2009-)</li>
        
        <li><a href="../people/rmortier.html">Richard Mortier</a>, project lead at Horizon (2009-)</li>
        
        <li><a href="../people/dscott.html">David Scott</a>, project lead at Citrix (2009-)</li>
        
        <li><a href="../people/tgazagnaire.html">Thomas Gazagnaire</a>, project lead at OCamlPro (2009-)</li>
        
        <li><a href="../people/jcrowcroft.html">Jon Crowcroft</a>, professorial input (2009-)</li>
        
        <li><a href="../people/shand.html">Steven Hand</a>, professorial input (2009-)</li>
        
        <li><a href="../people/dmcauley.html">Derek McAuley</a>, professor at Horizon (2009-)</li>
        
        <li><a href="../people/jludlam.html">Jonathan Ludlam</a>, Xen Cloud Platfom integration (2009-)</li>
        
        <li><a href="../people/crotsos.html">Haris Rotsos</a>, software defined networking (2010-)</li>
        
        <li><a href="../people/rproust.html">Raphael Proust</a>, linear typing (2011-)</li>
        
        <li><a href="../people/bsingh.html">Balraj Singh</a>, networking (2011-)</li>
        
        <li><a href="../people/gpali.html">Gabor Pali</a>, FreeBSD kernel port (2012)</li>
        
        <li><a href="../people/rwatson.html">Robert Watson</a>, FreeBSD and MIPS/BERI (2012-)</li>
        
        <li><a href="../people/lkurth.html">Lars Kurth</a>, community management at xen.org (2012-)</li>
        
        <li><a href="../people/achaudhry.html">Amir Chaudhry</a>, xen.org incubation proposal (2012-)</li>
      </ul>
         
         <h4 id="Recent Updates">Recent Updates</h4><ul class="compact"> <li><a class="icon-follow"/><i>29 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/ocaml-cohttp/archive/ocaml-cohttp-0.9.5.tar.gz">ocaml-cohttp-0.9.5</a> of  <a href="http://github.com/mirage/ocaml-cohttp">ocaml-cohttp</a> <i><a href="mirage.html#output-code-mirage-ocaml-cohttp">(more)</a></i></li>  <li><a class="icon-follow"/><i>29 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.3.6.tar.gz">ocaml-uri-1.3.6</a> of  <a href="http://github.com/mirage/ocaml-uri">ocaml-uri</a> <i><a href="mirage.html#output-code-mirage-ocaml-uri">(more)</a></i></li>  <li><a class="icon-follow"/><i>20 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/mirage-platform/archive/mirage-platform-0.7.1.tar.gz">mirage-platform-0.7.1</a> of  <a href="http://github.com/mirage/mirage-platform">mirage-platform</a> <i><a href="mirage.html#output-code-mirage-mirage-platform">(more)</a></i></li>  <li><a class="icon-follow"/><i>20 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/mirage-platform/archive/mirage-platform-0.7.0.tar.gz">mirage-platform-0.7.0</a> of  <a href="http://github.com/mirage/mirage-platform">mirage-platform</a> <i><a href="mirage.html#output-code-mirage-mirage-platform">(more)</a></i></li>  <li><a class="icon-follow"/><i>20 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/mirage-net/archive/mirage-net-0.5.1.tar.gz">mirage-net-0.5.1</a> of  <a href="http://github.com/mirage/mirage-net">mirage-net</a> <i><a href="mirage.html#output-code-mirage-mirage-net">(more)</a></i></li>  <li><a class="icon-follow"/><i>20 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/mirage-net/archive/mirage-net-0.5.0.tar.gz">mirage-net-0.5.0</a> of  <a href="http://github.com/mirage/mirage-net">mirage-net</a> <i><a href="mirage.html#output-code-mirage-mirage-net">(more)</a></i></li>  <li><a class="icon-follow"/><i>20 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/ocaml-cstruct/archive/ocaml-cstruct-0.6.1.tar.gz">ocaml-cstruct-0.6.1</a> of  <a href="http://github.com/mirage/ocaml-cstruct">ocaml-cstruct</a> <i><a href="mirage.html#output-code-mirage-ocaml-cstruct">(more)</a></i></li>  <li><a class="icon-follow"/><i>19 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/ocaml-cohttp/archive/ocaml-cohttp-0.9.4.tar.gz">ocaml-cohttp-0.9.4</a> of  <a href="http://github.com/mirage/ocaml-cohttp">ocaml-cohttp</a> <i><a href="mirage.html#output-code-mirage-ocaml-cohttp">(more)</a></i></li>  <li><a class="icon-follow"/><i>19 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.3.5.tar.gz">ocaml-uri-1.3.5</a> of  <a href="http://github.com/mirage/ocaml-uri">ocaml-uri</a> <i><a href="mirage.html#output-code-mirage-ocaml-uri">(more)</a></i></li>  <li><a class="icon-follow"/><i>16 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/ocaml-cstruct/archive/ocaml-cstruct-0.5.3.tar.gz">ocaml-cstruct-0.5.3</a> of  <a href="http://github.com/mirage/ocaml-cstruct">ocaml-cstruct</a> <i><a href="mirage.html#output-code-mirage-ocaml-cstruct">(more)</a></i></li>  <li><a class="icon-follow"/><i>15 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/mirage-platform/archive/mirage-platform-0.6.1.tar.gz">mirage-platform-0.6.1</a> of  <a href="http://github.com/mirage/mirage-platform">mirage-platform</a> <i><a href="mirage.html#output-code-mirage-mirage-platform">(more)</a></i></li>  <li><a class="icon-follow"/><i>14 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/mirage-net/archive/mirage-net-0.4.1.tar.gz">mirage-net-0.4.1</a> of  <a href="http://github.com/mirage/mirage-net">mirage-net</a> <i><a href="mirage.html#output-code-mirage-mirage-net">(more)</a></i></li>  <li><a class="icon-community"/><i>13 Dec 2012</i>: 
    Working on   Mirage as a xen.org incubated project  <i><a href="mirage.html#output-xen-incubate-meeting">(more)</a></i></li>  <li><a class="icon-follow"/><i>11 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/mirage-platform/archive/mirage-platform-0.6.0.tar.gz">mirage-platform-0.6.0</a> of  <a href="http://github.com/mirage/mirage-platform">mirage-platform</a> <i><a href="mirage.html#output-code-mirage-mirage-platform">(more)</a></i></li>  <li><a class="icon-follow"/><i>11 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/mirage-net/archive/mirage-net-0.4.0.tar.gz">mirage-net-0.4.0</a> of  <a href="http://github.com/mirage/mirage-net">mirage-net</a> <i><a href="mirage.html#output-code-mirage-mirage-net">(more)</a></i></li>  <li><a class="icon-follow"/><i>11 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/xenbigarray/archive/xenbigarray-1.0.0.tar.gz">xenbigarray-1.0.0</a> of  <a href="http://github.com/mirage/xenbigarray">xenbigarray</a> <i><a href="mirage.html#output-code-mirage-xenbigarray">(more)</a></i></li>  <li><a class="icon-follow"/><i>11 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/ocaml-cstruct/archive/ocaml-cstruct-0.5.2.tar.gz">ocaml-cstruct-0.5.2</a> of  <a href="http://github.com/mirage/ocaml-cstruct">ocaml-cstruct</a> <i><a href="mirage.html#output-code-mirage-ocaml-cstruct">(more)</a></i></li>  <li><a class="icon-follow"/><i>10 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/mirage-platform/archive/mirage-platform-0.5.0.tar.gz">mirage-platform-0.5.0</a> of  <a href="http://github.com/mirage/mirage-platform">mirage-platform</a> <i><a href="mirage.html#output-code-mirage-mirage-platform">(more)</a></i></li>  <li><a class="icon-follow"/><i>10 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/mirage-net/archive/mirage-net-0.3.1.tar.gz">mirage-net-0.3.1</a> of  <a href="http://github.com/mirage/mirage-net">mirage-net</a> <i><a href="mirage.html#output-code-mirage-mirage-net">(more)</a></i></li>  <li><a class="icon-video"/><i>6 Dec 2012</i>: 
    Talked on  <a href="https://www.cs.bham.ac.uk/events/seminars/seminar_details.html?seminar_id=941">Unikernels: Functional Library Operating Systems for the Cloud</a> <i><a href="mirage.html#output-birmingham-talk">(more)</a></i></li>  <li><a class="icon-video"/><i>5 Dec 2012</i>: 
    Talked on  <a href="http://techmeshconf.com/techmesh-london-2012/presentation/OCaml%20in%20the%20Cloud:%20How%20to%20build%20an%20Open%20Source%20Virtualisation%20Platform">OCaml in the Cloud: How to build an Open Source Virtualisation Platform</a> <i><a href="mirage.html#output-techmesh-talk">(more)</a></i></li>  <li><a class="icon-follow"/><i>4 Dec 2012</i>: 
    Released <a href="https://github.com/mirage/ocaml-cow/archive/ocaml-cow-0.5.0.tar.gz">ocaml-cow-0.5.0</a> of  <a href="http://github.com/mirage/ocaml-cow">ocaml-cow</a> <i><a href="mirage.html#output-code-mirage-ocaml-cow">(more)</a></i></li>  <li><a class="icon-community"/><i>28 Nov 2012</i>: 
    Working on   Mirage as a xen.org incubated project  <i><a href="mirage.html#output-xen-incubate-meeting">(more)</a></i></li>  <li><a class="icon-pdf"/><i>10 Nov 2012</i>: 
    Paper accepted  <a href="http://openmirage.org">Unikernels: Library Operating Systems for the Cloud</a> <i><a href="mirage.html#output-asplos2013">(more)</a></i></li>  <li><a class="icon-follow"/><i>8 Nov 2012</i>: 
    Released <a href="https://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.3.4.tar.gz">ocaml-uri-1.3.4</a> of  <a href="http://github.com/mirage/ocaml-uri">ocaml-uri</a> <i><a href="mirage.html#output-code-mirage-ocaml-uri">(more)</a></i></li>  <li><a class="icon-follow"/><i>4 Nov 2012</i>: 
    Released <a href="https://github.com/mirage/mirage-platform/archive/mirage-platform-0.4.1.tar.gz">mirage-platform-0.4.1</a> of  <a href="http://github.com/mirage/mirage-platform">mirage-platform</a> <i><a href="mirage.html#output-code-mirage-mirage-platform">(more)</a></i></li>  <li><a class="icon-follow"/><i>27 Oct 2012</i>: 
    Released <a href="https://github.com/mirage/ocaml-cohttp/archive/ocaml-cohttp-0.9.3.tar.gz">ocaml-cohttp-0.9.3</a> of  <a href="http://github.com/mirage/ocaml-cohttp">ocaml-cohttp</a> <i><a href="mirage.html#output-code-mirage-ocaml-cohttp">(more)</a></i></li>  <li><a class="icon-follow"/><i>14 Oct 2012</i>: 
    Released <a href="https://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.3.3.tar.gz">ocaml-uri-1.3.3</a> of  <a href="http://github.com/mirage/ocaml-uri">ocaml-uri</a> <i><a href="mirage.html#output-code-mirage-ocaml-uri">(more)</a></i></li> </ul> 
         <h2 id="Publications">Publications</h2> 
        
       <a name="output-asplos2013"/>
       <h3 class="ocl-output ocl-print" id="Unikernels: Library Operating Systems for the Cloud"><span>Unikernels: Library Operating Systems for the Cloud</span></h3>
       <p>Paper on <a href="http://openmirage.org">Unikernels: Library Operating Systems for the Cloud</a> at <a href="http://asplos13.rice.edu">Eighteenth International Conference on Architectural Support for Programming Languages and Operating Systems (ASPLOS)</a> with this abstract:</p>
        <blockquote><p>We advocate <em>unikernels</em>: specialized virtual machines that run high-level languages directly on an OS hypervisor. Unikernels build on the concept of library operating systems, where a conventional OS is replaced with application libraries that implement kernel services such as device drivers. The traditional barrier to wide-scale use of library OSs has been hardware support and isolation between applications: both problems that we solve by running unikernels on a hypervisor that exposes a stable virtual hardware interface.</p>
<p>Our Mirage implementation produces unikernels that offer an order of magnitude reduction in code size and smaller VM memory footprints without significant performance penalty, and can run on commodity cloud deployments such as Amazon's EC2. The library-based architecture enables security, efficiency and performance optimisations, such as a single-address space that can be made immutable via an optional hypervisor extension, and compile-time configuration specialisation and inlining.  is written entirely in a statically type-safe functional language, and the resulting unikernels are protected against low-level memory errors, and made convenient to program via high-level interfaces.</p>
<p>Mirage also provides a suite of clean-slate, type-safe protocol libraries including OpenFlow, TCP/IP, DNS, SSH and HTTP. We find that the overall performance of these unikernels matches or surpasses the conventional Linux VM equivalents. Our results comprehensively demonstrate that the OS hypervisor is a practical platform to overcome the hardware compatibility issues that have made past library operating systems difficult to deploy in the real-world.</p>
</blockquote> 
        
       <div><p><em>10 Nov 2012</em>: The Mirage paper on the low-level implementation details of the Xen backend was accepted at ASPLOS. The team is currently working on revising the paper for camera-ready (and tagging the release to include it in the final version, to encourage reproducable results).</p>
</div>
      
         <h2 id="Activity">Activity</h2> 
        
       <a name="output-xen-incubate-meeting"/>
       <h3 class="ocl-output ocl-group" id="Mirage as a xen.org incubated project"><span>Mirage as a xen.org incubated project</span></h3>
       <p> </p>
       <p>The Mirage project is being incubated as an official <a href="http://xen.org">xen.org</a> project. This will give us a neutral community ground to continue long-term development of the libraries and tools required to turn it into a robust production-grade exokernel.</p>

        
       <div><p><em>13 Dec 2012</em>: A draft proposal for the Mirage/Xen.org incubation was outlined, which will be refined over the holiday period and submitted for community review early next year. Please contact Amir if you wish to see it sooner.</p>
<p><em>28 Nov 2012</em>: Anil, Dave and Amir are working with Lars (the xen.org community manager) to incorporate Mirage as an incubated project, such that it can be officially supported by the Xen community. The necessary paperwork should be ready soon, after which the proposal will be reviewed and voted on by the Xen community.</p>
</div>
      
       <a name="output-birmingham-talk"/>
       <h3 class="ocl-output ocl-bullhorn" id="Unikernels: Functional Library Operating Systems for the Cloud"><span>Unikernels: Functional Library Operating Systems for the Cloud</span></h3>
       <p>Talk on <a href="https://www.cs.bham.ac.uk/events/seminars/seminar_details.html?seminar_id=941">Unikernels: Functional Library Operating Systems for the Cloud</a> at <a href="https://www.cs.bham.ac.uk/">University of Birmingham Computer Science</a>:</p>
        <blockquote><p>Public compute clouds provide a flexible platform to host applications as a set of appliances, e.g., web servers or databases. Each appliance usually contains an OS kernel and userspace processes, within which applications access resources via APIs such as POSIX. The flexible architecture of the cloud comes at a cost: the addition of another layer in the already complex software stack. This reduces performance and increases the size of the trusted computing base.</p>
<p>Our new Mirage operating system proposes a radically different way of building these appliances. Mirage supports the progressive specialisation of functional language (OCaml) application source code, and gradually replaces traditional OS components with type-safe libraries. This ultimately results in <em>unikernels</em>: sealed, fixed-purpose images that run directly on the hypervisor without an intervening guest OS such as Linux.</p>
<p>Developers no longer need to become sysadmins, expert in the configuration of all manner of system components, to use cloud resources. At the same time, they can develop their code using their usual tools, only making the final push to the cloud once they are satisfied their code works. As they explicitly link in components that would normally be provided by the host OS, the resulting unikernels are also highly compact: facilities that are not used are simply not included in the resulting unikernel. For example, the self-hosting Mirage web server image is less than a megabyte in size!</p>
</blockquote> 
        
       <div><p><em>6 Dec 2012</em>: Anil Madhavapeddy delivered the CS departmental seminar about the state of Mirage, based on the forthcoming ASPLOS 2013 paper results. Since OCaml is <a href="https://sites.google.com/site/focs1112/lecture-videos">taught</a> to the undergrads, there was an unusually knowledgeable audience! <a href="http://www.cs.bham.ac.uk/~drg/">Dan Ghica</a> also explained his <a href="https://sites.google.com/site/thegeometryofsynthesis/">GoS</a> compiler which is relevant to the LinearML efforts.</p>
</div>
      
       <a name="output-techmesh-talk"/>
       <h3 class="ocl-output ocl-bullhorn" id="OCaml in the Cloud: How to build an Open Source Virtualisation Platform"><span>OCaml in the Cloud: How to build an Open Source Virtualisation Platform</span></h3>
       <p>Talk on <a href="http://techmeshconf.com/techmesh-london-2012/presentation/OCaml%20in%20the%20Cloud:%20How%20to%20build%20an%20Open%20Source%20Virtualisation%20Platform">OCaml in the Cloud: How to build an Open Source Virtualisation Platform</a> at <a href="http://techmeshconf.com">TechMesh 2012</a>:</p>
        <blockquote><p>XenServer is an open source virtualization platform that powers some of the world's biggest enterprises, and drives the biggest clouds. A little known fact about XenServer is that it's central management server is written in OCaml. But how did this come about, you say? Why did we choose to write a critical, systems-level hypervisor management server in a high-level, functional language? From its humble beginnings in use as a document generator for our API, OCaml has served us well. It's quick compile times, fast native code and good C interface, strong static types and type inference, and even objects and classes, make it a great langauge for systems programming.</p>
<p>In this talk, we'll give an overview of XenServer's unique hypervisor architecture, and our future plans to push OCaml even further down the stack and create server applications that run on bare metal, with no operating system between them and the hypervisor. We'll talk about all the features that make a OCaml a great langauge to use, as well as interesting new features we'd like to make use of in our software. And we'd like to remind everyone that it's possible for a small startup to write enterprise software in a non-mainstream language, and still get acquired by a big multinational.</p>
</blockquote> 
        <ul> <li><a href="http://github.com/djs55/techmesh-2012">Slides</a></li> </ul> 
       <div><p><em>5 Dec 2012</em>: Dave Scott explained the background behind using OCaml in the Xen Cloud Platform, and demonstrated the integration of Mirage and Xen in a future update. His slides were <a href="http://github.com/djs55/techmesh-2012">self-hosted</a> using a Mirage webserver running Xen on his laptop.</p>
</div>
      
       <a name="output-xensummit-2012"/>
       <h3 class="ocl-output ocl-bullhorn" id="Mirage: OCaml Appliances for Xen Clouds"><span>Mirage: OCaml Appliances for Xen Clouds</span></h3>
       <p>Talk on <a href="TODO">Mirage: OCaml Appliances for Xen Clouds</a> at <a href="http://xen.org/xensummit/xs12na_talks/agenda.html">XenSummit North America 2012</a>:</p>
        <blockquote><p>TODO</p>
</blockquote> 
        <ul> <li><a href="http://anil.recoil.org/talks/Aug27-Mirage-Appliances.pdf">Slides</a></li>  <li><a href="http://anil.recoil.org/talks/201208-princeton-mirage.pdf">Princeton slides</a></li> </ul> 
       <div><p><em>25 Sep 2012</em>: Anil Madhavapeddy delivered roughly the same XenSummit talk at the Princeton departmental seminar. There was a <em>lot</em> of interest in the software-defined networking libraries, as Princeton has major efforts ongoing to apply high-level programming discipline to network construction. Andrew Appel also described his ongoing Compcert efforts and how Mirage could fit into this in the longer-term.</p>
<p><em>27 Aug 2012</em>: Anil Madhavapeddy described the low-level portions of Mirage and how they map onto the Xen interfaces, discussed future directions, and showed off the 100KB self-hosted microkernel presentation. The <a href="http://bromium.com">Bromium</a> team were interested in looking at this on their microvisor, and datacenter folks wanted to know if this would help with lightweight datacenter proxies.</p>
</div>
      
       <a name="output-oud-xen-talk"/>
       <h3 class="ocl-output ocl-bullhorn" id="Programming the Xen cloud using OCaml"><span>Programming the Xen cloud using OCaml</span></h3>
       <p>Talk on <a href="http://oud.ocaml.org/2012/#program">Programming the Xen cloud using OCaml</a> at <a href="http://oud.ocaml.org/2012">1st ACM/SIGPLAN OCaml Users and Developers Workshop</a>:</p>
        <blockquote><p>The <a href="http://xen.org/products/cloudxen.html">Xen Cloud Platform</a> is an open-source software distribution that converts clusters of physical computers into many virtual machines, all isolated from each other via the Xen hypervisor. XCP is a large, mature and widely deployed OCaml code-base that is used as mission-critical software on hundreds of thousands of hosts today.</p>
</blockquote> 
        <ul> <li><a href="http://oud.ocaml.org/2012/slides/oud2012-paper14-slides.pdf">Slides</a></li>  <li><a href="http://oud.ocaml.org/2012/abstracts/oud2012-paper14.pdf">Abstract</a></li>  <li><a class="icon-video" href="http://www.youtube.com/watch?v=dJlHBS7sP_c&amp;feature=plcp">Video</a></li> </ul> 
       <div><p><em>14 Sep 2012</em>: Dave Scott presented the latest status of XCP and the ongoing integration of Mirage. The talk slides are <a href="https://github.com/djs55/oud-2012">self-hosted</a> using Mirage.</p>
</div>
      
         <h2 id="Source Code">Source Code</h2> 
        
       <a name="output-code-mirage-ocaml-cohttp"/>
       <h3 class="ocl-output ocl-cogs" id="ocaml-cohttp"><span>ocaml-cohttp</span></h3>
       <p> </p>
       <p>HTTP/1.1 protocol library that supports the Async and Lwt cooperative threading libraries.</p>

        <ul> <li><a href="http://github.com/mirage/ocaml-cohttp">Homepage</a></li> </ul> 
       <div><p><em>29 Dec 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cohttp/archive/ocaml-cohttp-0.9.5.tar.gz">ocaml-cohttp-0.9.5</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Fix cookie parsing to retrieve the correct header.</li>
<li>Update to <code>mirage-net</code> 0.5.0 API (based on cstruct 0.6.0).</li>
</ul>
</div>

<p><em>19 Dec 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cohttp/archive/ocaml-cohttp-0.9.4.tar.gz">ocaml-cohttp-0.9.4</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Add Lwt <code>respond_redirect</code> and <code>respond_need_auth</code> helpers.</li>
<li>Add enough Basic authorization support to serve a password-protected website.</li>
<li>Fix Lwt file serving to not throw exception on trying to serve a directory.</li>
<li>Port Async interface to 108.07.00 or higher (incompatible with earlier versions).</li>
</ul>
</div>

<p><em>27 Oct 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cohttp/archive/ocaml-cohttp-0.9.3.tar.gz">ocaml-cohttp-0.9.3</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Add basic cookie support back to the portable library.</li>
<li><code>Cohttp_lwt.Client.post_form</code> now uses non-chunked encoding for the POST instead of chunked.</li>
<li>Various improvements and tests for the pipelined Lwt Client.callv</li>
<li>If an Lwt callback does not consume a body, ensure it has been drained by the API to prevent future pipelines from stalls.</li>
<li>Fix handling of Lwt server non-empty POST bodies.</li>
<li>Map the <code>put</code> functions to HTTP PUT instead of POST.</li>
</ul>
</div>

<p><em>21 Sep 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cohttp/archive/ocaml-cohttp-0.9.2.tar.gz">ocaml-cohttp-0.9.2</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Add Request.get_param to extract a singleton key from queries.</li>
<li>Fix chunked encoding handling when short reads occur.</li>
<li>Install HTML documentation for all enabled drivers.</li>
<li>Use ocaml-uri-1.3.2 interface for query parsing.</li>
<li>Lwt: Add Server.respond_file and resolve_file for the Unix library to make it easier to serve static files.</li>
<li>Lwt: Server.respond_not_found takes an optional Uri.t now.</li>
</ul>
</div>

<p><em>11 Sep 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cohttp/archive/ocaml-cohttp-0.9.1.tar.gz">ocaml-cohttp-0.9.1</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Functorise for Async, Lwt_unix and Mirage.</li>
<li>Use URI and Re libraries to not need Str any more.</li>
<li>More robust parsing for various HTTP headers.</li>
</ul>
</div>

</div>
      
       <a name="output-code-mirage-ocaml-uri"/>
       <h3 class="ocl-output ocl-cogs" id="ocaml-uri"><span>ocaml-uri</span></h3>
       <p> </p>
       <p>RFC3968 URI parsing library for OCaml</p>

        <ul> <li><a href="http://github.com/mirage/ocaml-uri">Homepage</a></li> </ul> 
       <div><p><em>29 Dec 2012</em>: Released version <a href="http://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.3.6.tar.gz">ocaml-uri-1.3.6</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Add <code>with_host</code>, <code>with_port</code>, <code>with_fragment</code> and <code>with_host</code>, to modify the respective fields of an input URI.</li>
</ul>
</div>

<p><em>19 Dec 2012</em>: Released version <a href="http://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.3.5.tar.gz">ocaml-uri-1.3.5</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Fix percent encoding of characters from 0x0 to 0xf.</li>
<li>Add <code>Uri.remove_query_param</code> function to remove keys from query sets.</li>
</ul>
</div>

<p><em>8 Nov 2012</em>: Released version <a href="http://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.3.4.tar.gz">ocaml-uri-1.3.4</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Always encode <code>+</code> in URLs to be more compatible with form encoding.</li>
</ul>
</div>

<p><em>14 Oct 2012</em>: Released version <a href="http://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.3.3.tar.gz">ocaml-uri-1.3.3</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Add singleton variants of query functions that accept a string-&gt;string instead of a string list of values, for convenience.</li>
</ul>
</div>

<p><em>20 Sep 2012</em>: Released version <a href="http://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.3.2.tar.gz">ocaml-uri-1.3.2</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Fix parsing of unreserved characters in hostnames (e.g. <code>foo-bar.com</code>).</li>
<li>Add unit tests for the Uri_services module.</li>
<li>Various URI parsing bugs and test cases for better RFC3986 compliance.</li>
<li>Fix <code>port_of_uri</code> to detect port overrides in a URI before doing a lookup.</li>
</ul>
</div>

<p><em>13 Sep 2012</em>: Released version <a href="http://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.3.1.tar.gz">ocaml-uri-1.3.1</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Make the <code>Uri_services_full</code> library optional, as it takes a loooong time to compile. It will return as a UNIX binding to getservent(2) also.</li>
</ul>
</div>

<p><em>24 Aug 2012</em>: Released version <a href="http://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.3.0.tar.gz">ocaml-uri-1.3.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Add <code>Uri_services</code> to lookup IANA the common well-known ports and services</li>
<li>Add <code>Uri_services_full</code> with a complete database of the IANA database.</li>
</ul>
</div>

<p><em>21 Aug 2012</em>: Released version <a href="http://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.2.tar.gz">ocaml-uri-1.2</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Add <code>Uri.path_and_query</code> to retrieve a path/query combination string.</li>
<li>Add <code>Uri.host_with_default</code> to retrieve a hostname string.</li>
</ul>
</div>

<p><em>1 Aug 2012</em>: Released version <a href="http://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.1.tar.gz">ocaml-uri-1.1</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Fix query parsing order.</li>
<li>Improve safe character handling across URI components.</li>
</ul>
</div>

<p><em>1 Aug 2012</em>: Released version <a href="http://github.com/mirage/ocaml-uri/archive/ocaml-uri-1.0.tar.gz">ocaml-uri-1.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Initial public release.</li>
</ul>
</div>

</div>
      
       <a name="output-code-mirage-mirage-platform"/>
       <h3 class="ocl-output ocl-cogs" id="mirage-platform"><span>mirage-platform</span></h3>
       <p> </p>
       <p>Core platform libraries for Mirage (UNIX and Xen). This provides the <code>OS</code> library which handles timers, device setup and the main loop, as well as the runtime for the Xen microkernel.</p>

        <ul> <li><a href="http://github.com/mirage/mirage-platform">Homepage</a></li> </ul> 
       <div><p><em>20 Dec 2012</em>: Released version <a href="http://github.com/mirage/mirage-platform/archive/mirage-platform-0.7.1.tar.gz">mirage-platform-0.7.1</a> with these changes:</p>
<div class="changelog">
<ul>
<li>[unix] Update devices API to use Cstruct 0.6.0</li>
</ul>
</div>

<p><em>20 Dec 2012</em>: Released version <a href="http://github.com/mirage/mirage-platform/archive/mirage-platform-0.7.0.tar.gz">mirage-platform-0.7.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>[xen] Add support for VM suspend/resume/migrate</li>
<li>[xen] Support for multiple network interfaces</li>
<li>[xen] Use new shared-memory-ring, removing old builtin version. This is all OCaml except for the memory barrier assembly instructions.</li>
<li>Update Cstruct to new API in 0.6.0</li>
</ul>
</div>

<p><em>15 Dec 2012</em>: Released version <a href="http://github.com/mirage/mirage-platform/archive/mirage-platform-0.6.1.tar.gz">mirage-platform-0.6.1</a> with these changes:</p>
<div class="changelog">
<ul>
<li>[xen] Add an unused ?dev parameter to Netif.create to match the UNIX version.</li>
<li>[script] Add a mir-build script which converts a native output object into a Xen kernel. It does command-line parsing to be compatible with other Xen outputs in the future (such as the kFreeBSD or Javascript backends, when they are ready).</li>
</ul>
</div>

<p><em>11 Dec 2012</em>: Released version <a href="http://github.com/mirage/mirage-platform/archive/mirage-platform-0.6.0.tar.gz">mirage-platform-0.6.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>[xen] refresh to ocaml-4.00.1 runtime. You <em>must</em> use the correct OPAM switch to match versions, or bad things will happen when the resulting binary is run.</li>
</ul>
</div>

<p><em>10 Dec 2012</em>: Released version <a href="http://github.com/mirage/mirage-platform/archive/mirage-platform-0.5.0.tar.gz">mirage-platform-0.5.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>[xen] Fix spurious floating point exceptions on some machines.</li>
<li>[ns3] Add NS3-based simulator backend.</li>
<li>[unix] Add pcap-based Ethernet access in addition to tuntap.</li>
</ul>
</div>

<p><em>4 Nov 2012</em>: Released version <a href="http://github.com/mirage/mirage-platform/archive/mirage-platform-0.4.1.tar.gz">mirage-platform-0.4.1</a> with these changes:</p>
<div class="changelog">
<ul>
<li>[xen] fix incorrect reference counting in Io_pages that could potentially cause pages to be reused too early.</li>
<li>[xen] move Xenstore protocol implementation out to a separate library that provides it as a functor.</li>
<li>[unix] ignore SIGPIPE in the OS.Main.run function.</li>
</ul>
</div>

<p><em>11 Sep 2012</em>: Released version <a href="http://github.com/mirage/mirage-platform/archive/mirage-platform-0.4.0.tar.gz">mirage-platform-0.4.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>[xen] Add support for mapping and unmapping grant references</li>
<li>[xen] Support Xen 4.2 reserved console and xenstore maps.</li>
<li>[xen] Switch the Xenstore and console rings over to use cstruct.</li>
<li>[xen] Add Evtchn virq interface for stub xenstored.</li>
<li>[xen] Add Evtchn.unbind.</li>
<li>[netif] fix checksum calculation code for odd-sized packets.</li>
</ul>
<p>0.3.0 (04-Sep-2012): * Initial public release.</p>
</div>

<p><em>4 Sep 2012</em>: Released version mirage-platform-0.3.0.</p>
</div>
      
       <a name="output-code-mirage-mirage-net"/>
       <h3 class="ocl-output ocl-cogs" id="mirage-net"><span>mirage-net</span></h3>
       <p> </p>
       <p>TCP/IP networking stack in pure OCaml, using the Mirage platform libraries. Includes Ethernet, DHCP, ARP and TCP/IPv4 support.</p>

        <ul> <li><a href="http://github.com/mirage/mirage-net">Homepage</a></li> </ul> 
       <div><p><em>20 Dec 2012</em>: Released version <a href="http://github.com/mirage/mirage-net/archive/mirage-net-0.5.1.tar.gz">mirage-net-0.5.1</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Update socket stack to use Cstruct 0.6.0 API</li>
</ul>
</div>

<p><em>20 Dec 2012</em>: Released version <a href="http://github.com/mirage/mirage-net/archive/mirage-net-0.5.0.tar.gz">mirage-net-0.5.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Update Cstruct API to 0.6.0</li>
<li>[tcp] write now blocks if the write buffer and write window are full</li>
</ul>
</div>

<p><em>14 Dec 2012</em>: Released version <a href="http://github.com/mirage/mirage-net/archive/mirage-net-0.4.1.tar.gz">mirage-net-0.4.1</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Add iperf self-test that creates two VIFs and transmits across them. This is a useful local test which stresses the bridge code using just one VM.</li>
<li>Add support for attaching existing devices when initialising the network manager, via an optional <code>attached</code> parameter.</li>
<li>Constrain TCP connect to be a <code>unit Lwt.t</code> instead of a polymorphic return value.</li>
<li>Expose IPv4 netmask function.</li>
<li>Reduce ARP verbosity to the console.</li>
<li>Fix TCP fast recovery to wait until all in-flight packets are acked, rather then exiting early.</li>
</ul>
</div>

<p><em>11 Dec 2012</em>: Released version <a href="http://github.com/mirage/mirage-net/archive/mirage-net-0.4.0.tar.gz">mirage-net-0.4.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Require OCaml-4.00.0 or higher, and add relevant build fixes to deal with module packing.</li>
</ul>
</div>

<p><em>10 Dec 2012</em>: Released version <a href="http://github.com/mirage/mirage-net/archive/mirage-net-0.3.1.tar.gz">mirage-net-0.3.1</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Fix the DHCP client marshalling for IPv4 addresses.</li>
<li>Expose the interface MAC address in the Manager signature.</li>
<li>Tweak TCP ISN calculation to be more friendly on a 32-bit host.</li>
<li>Add Manager.create ?devs to control the number of Netif devices constructed by default.</li>
<li>Add Ethif.set/disable_promiscuous to permit directly tapping a network interface.</li>
</ul>
</div>

<p><em>11 Sep 2012</em>: Released version <a href="http://github.com/mirage/mirage-net/archive/mirage-net-0.3.0.tar.gz">mirage-net-0.3.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Initial public release.</li>
</ul>
</div>

</div>
      
       <a name="output-code-mirage-ocaml-cstruct"/>
       <h3 class="ocl-output ocl-cogs" id="ocaml-cstruct"><span>ocaml-cstruct</span></h3>
       <p> </p>
       <p>Map OCaml arrays onto C-like structs via a syntax extension, and generate functions to convert to-and-from native OCaml values.</p>

        <ul> <li><a href="http://github.com/mirage/ocaml-cstruct">Homepage</a></li> </ul> 
       <div><p><em>20 Dec 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cstruct/archive/ocaml-cstruct-0.6.1.tar.gz">ocaml-cstruct-0.6.1</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Add <code>sendto</code>, <code>read</code> and <code>recvfrom</code> functions to the Lwt subpackage.</li>
</ul>
</div>

<p><em>16 Dec 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cstruct/archive/ocaml-cstruct-0.5.3.tar.gz">ocaml-cstruct-0.5.3</a> with these changes:</p>
<div class="changelog">
<ul>
<li>No functional changes, just OASIS packaging fix to right version.</li>
</ul>
</div>

<p><em>11 Dec 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cstruct/archive/ocaml-cstruct-0.5.2.tar.gz">ocaml-cstruct-0.5.2</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Remove the separate <code>xen</code> and <code>unix</code> subdirectories, as the portable <code>Bigarray</code> is now provided by the <code>xenbigarray</code> package.</li>
</ul>
</div>

<p><em>29 Sep 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cstruct/archive/ocaml-cstruct-0.5.1.tar.gz">ocaml-cstruct-0.5.1</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Add <code>string_to_&lt;cenum&gt;</code> function to match the <code>&lt;cenum&gt;_to_string</code>, primarily to help with command-line parsing of enum arguments.</li>
</ul>
</div>

<p><em>21 Sep 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cstruct/archive/ocaml-cstruct-0.5.0.tar.gz">ocaml-cstruct-0.5.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Add a signature generator for cstruct and cenum to permit their use in <code>.mli</code> files.</li>
<li>Use the more reliable revised syntax camlp4 quotation expander, to avoid broken AST output from antiquotations.</li>
<li>Switch the <code>xen/</code> version over to using OASIS also.</li>
</ul>
</div>

<p><em>4 Sep 2012</em>: Released version ocaml-cstruct-0.4.1.</p>
<p><em>2 Sep 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cstruct/archive/ocaml-cstruct-0.4.0.tar.gz">ocaml-cstruct-0.4.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Fix META file for use with Xen</li>
</ul>
</div>

<p><em>26 Aug 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cstruct/archive/ocaml-cstruct-0.3.tar.gz">ocaml-cstruct-0.3</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Initial public release</li>
</ul>
</div>

</div>
      
       <a name="output-code-mirage-xenbigarray"/>
       <h3 class="ocl-output ocl-cogs" id="xenbigarray"><span>xenbigarray</span></h3>
       <p> </p>
       <p>Cut-down Bigarray module without the UNIX dependency, suitable for use with the Xen backend to Mirage OS.</p>

        <ul> <li><a href="http://github.com/mirage/xenbigarray">Homepage</a></li> </ul> 
       <div><p><em>11 Dec 2012</em>: Released version <a href="http://github.com/mirage/xenbigarray/archive/xenbigarray-1.0.0.tar.gz">xenbigarray-1.0.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Initial release.</li>
</ul>
</div>

</div>
      
       <a name="output-code-mirage-ocaml-cow"/>
       <h3 class="ocl-output ocl-cogs" id="ocaml-cow"><span>ocaml-cow</span></h3>
       <p> </p>
       <p>Caml on the Web (COW) is a set of parsers and syntax extensions to let you manipulate HTML, CSS, XML, JSON and Markdown directly from OCaml code.</p>

        <ul> <li><a href="http://github.com/mirage/ocaml-cow">Homepage</a></li> </ul> 
       <div><p><em>4 Dec 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cow/archive/ocaml-cow-0.5.0.tar.gz">ocaml-cow-0.5.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Remove the broken <code>Twitter</code> module</li>
<li>Add <code>Markdown_github</code> to read Github's markdown files</li>
</ul>
</div>

<p><em>6 Oct 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cow/archive/ocaml-cow-0.4.0.tar.gz">ocaml-cow-0.4.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Support (and require) type_conv-108.07.00+</li>
</ul>
</div>

<p><em>11 Sep 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cow/archive/ocaml-cow-0.3.2.tar.gz">ocaml-cow-0.3.2</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Add <code>&lt;:html&lt;</code> quotation, based on the XML generator, but with all the XHTML entities also supplied.</li>
</ul>
</div>

<p><em>4 Sep 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cow/archive/ocaml-cow-0.3.1.tar.gz">ocaml-cow-0.3.1</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Fix the OCamlfind META file.</li>
</ul>
</div>

<p><em>2 Sep 2012</em>: Released version <a href="http://github.com/mirage/ocaml-cow/archive/ocaml-cow-0.3.0.tar.gz">ocaml-cow-0.3.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Initial public release.</li>
</ul>
</div>

</div>
      
       <a name="output-code-mirage-ocaml-crunch"/>
       <h3 class="ocl-output ocl-cogs" id="ocaml-crunch"><span>ocaml-crunch</span></h3>
       <p> </p>
       <p>Convert a filesystem into a static OCaml module</p>

        <ul> <li><a href="http://github.com/mirage/ocaml-crunch">Homepage</a></li> </ul> 
       <div><p><em>21 Sep 2012</em>: Released version <a href="http://github.com/mirage/ocaml-crunch/archive/ocaml-crunch-1.0.1.tar.gz">ocaml-crunch-1.0.1</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Build fix to respect the PREFIX environment.</li>
</ul>
</div>

<p><em>21 Sep 2012</em>: Released version <a href="http://github.com/mirage/ocaml-crunch/archive/ocaml-crunch-1.0.0.tar.gz">ocaml-crunch-1.0.0</a> with these changes:</p>
<div class="changelog">
<ul>
<li>Initial public release.</li>
</ul>
</div>

</div>
      
      </div>
      </body>
  